#!/usr/bin/env bash

sltime=30
maxtime=300000

while true; do
    if [[ -z "$(bspc query -N -n .local.fullscreen)" ]] && [[ $(xprintidle) -ge $maxtime ]]; then
        lock-screen &
        sleep 0.5
        xset dpms force off
    fi

    sleep $sltime
done
