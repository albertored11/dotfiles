#!/usr/bin/env sh
#
# wm independent hotkeys
#

# terminal emulator
super + t
	kitty

# web browser
super + c
    google-chrome-stable

# file manager
super + e
    pcmanfm-qt

# program launcher
alt + space
    $HOME/.config/rofi/launchers/misc/launcher.sh

# make sxhkd reload its configuration files:
super + Escape
	pkill -USR1 -x sxhkd

# volume up/down
XF86Audio{RaiseVolume,LowerVolume}
    amixer -q sset Master unmute && amixer -q sset Master 5%{+,-}
    #pactl set-sink-mute @DEFAULT_SINK@ false; pactl set-sink-volume @DEFAULT_SINK@ {+,-}5%

# mute/unmute volume
XF86AudioMute
    amixer -q sset Master toggle
    #pactl set-sink-mute @DEFAULT_SINK@ toggle

# play/pause
XF86AudioPlay
    playerctl play-pause

# prev/next song
XF86Audio{Prev,Next}
    playerctl {previous,next}

# brightness up/down
XF86MonBrightness{Up,Down}
    brightnessctl set 5%{+,-}

# lock screen
super + l
    $HOME/.local/bin/lock-screen

# take screenshot (full screen/crop/active window)
{_,shift + ,super + }Print
    $HOME/.local/bin/take-screenshot {fullscr,crop,activewin} "$HOME/Nextcloud/Capturas de pantalla/alberbook"

# powermenu
{ctrl + alt + Delete,XF86PowerOff,XF86Sleep}
    $HOME/.config/rofi/powermenu/powermenu.sh

# toggle hdmi sound
super + less
    $HOME/.local/bin/hdmi-sound-toggle

# mount/unmount alberpc
super + {_,shift + } u
    $HOME/.local/bin/{_,u}mount-alberpc

#
# bspwm hotkeys
#

# restart bspwm
super + alt + r
	bspc wm -r

# close
super + q
	bspc node -c

# alternate between the tiled and monocle layout
super + m
	bspc desktop -l next

# swap the current node and the biggest window in the current desktop
super + g
	bspc node -s biggest.window.local.!hidden.window

#
# state/flags
#

# set the window state
super + {i,o,f}
	bspc node -t {tiled,floating,fullscreen}

#
# focus/swap
#

# focus/swap the node in the given direction
super + {_,shift + }{Left,Down,Up,Right}
	bspc node -{f,s} {west,south,north,east}

# focus the next/previous window in the current desktop
alt + {_,shift + }Tab
	bspc node -f {next,prev}.local.!hidden.window

# focus the next/previous desktop
ctrl + super + {Left,Right}
	bspc desktop -f {prev,next}.local

# send to and focus the previous desktop
ctrl + alt + Left
    bspc node -d prev.local --follow

# send to and focus the next desktop
ctrl + alt + Right
    bspc node -d next.local --follow

# focus or send to the given desktop
super + {_,shift + }{0-9}
	bspc {desktop -f,node -d} '^{0-9}'

#
# preselect
#

# preselect the direction
super + ctrl + {h,j,k,l}
	bspc node -p {west,south,north,east}

# cancel the preselection for the focused node
super + ctrl + space
	bspc node -p cancel

#
# move/resize
#

# resize a window

super + alt + Left
    bspc node -z left -20 0 || bspc node -z right -20 0

super + alt + Down
    bspc node -z bottom 0 20 || bspc node -z top 0 20

super + alt + Up
    bspc node -z top 0 -20 || bspc node -z bottom 0 -20

super + alt + Right
    bspc node -z right 20 0 || bspc node -z left 20 0

# contract a window by moving one of its side inward
super + alt + shift + {Left,Down,Up,Right}
    bspc node -z {right -20 0,top 0 20,bottom 0 -20,left 20 0}

# move a floating window
super + {a,s,w,d}
	bspc node -v {-20 0,0 20,0 -20,20 0}

#
# others
#

# Make split ratios equal
super + y
    bspc node @/ --equalize

# Make split ratios balanced
super + shift + y
	bspc node @/ --balance

# Flip layout vertically/horizontally
super + {_,shift + }z
    bspc node @/ --flip {vertical,horizontal}

# Rotate desktop
super + {_,shift + }r
    bspc node @/ --rotate {90,-90}
